# 创建商家寄件订单

调用创建商家寄件订单接口发起商家寄件;会在创建订单成功后预扣除寄件金额;会在订单结算后进行真实扣除寄件金额;  
欠费后的账号无法发起商家寄件订单,必须充值后才1-2分钟内才能恢复;

### 请求语法

```
POST v2/shipment/create_order
```

### 请求头

| 名称 | 类型|是否必填 |示例值| 描述|
|---|---|---|---|---|
| Authorization | 字符串|是|--| 授权TOKEN |
| Content-Type | 字符串|是|application/json;charset=UTF-8| 默认值：application/json;charset=UTF-8 |

### 请求参数

| 名称 | 类型|是否必填 |示例值| 描述|
|---|---|---|---|---|
| kuaidicom | 字符串|是|--| 快递公司编码，在[获取商家寄件快递公司]接口中获得 |
| man_name | 字符串|是|--| 收件人姓名 |
| phone | 字符串|是|--| 收件人手机号 |
| address | 字符串|是|--| 收件人所在完整地址 |
| send_real_name | 字符串|是|--| 寄件人姓名 |
| send_phone | 字符串|是|--| 寄件人手机号 |
| send_address | 字符串|是|--| 寄件人所在完整地址 |
| call_back_url | 字符串|否|--| 订单信息回调地址 |
| cargo | 字符串|否|--| 物品名称,例：文件。当kuaidicom=jd、yuantong时必填 |
| service_type | 字符串|否|--| 业务类型，默认为标准快递，各快递公司业务类型对照参考 |
| payment | 字符串|否|--| 支付方式，SHIPPER: 寄付（默认）。不支持到付 |
| weight | 字符串|否|--| 物品总重量KG，不需带单位，例：1.5 |
| remark | 字符串|否|--| 备注 |
| day_type | 字符串|否|--| 预约日期，例如：0=今天/1=明天/2=后天 |
| pickup_start_time | 字符串|否|--| 预约起始时间（HH:mm），例如：09:00，顺丰必填 |
| pickup_end_time | 字符串|否|--| 预约截止时间（HH:mm），例如：10:00，顺丰必填，预约起始时间和预约截止时间间隔需≥1小时 |
| channel_sw | 字符串|否|--| 渠道ID，如有多个同品牌运力，请联系商务提供后传入 |
| valins_pay | 字符串|否|--| 保价额度，单位：元 |
| real_name | 字符串|否|--| 寄件人实名信息（圆通、极兔支持 ） |
| send_id_card_type | 字符串|否|--| 寄件人证件类型，1：居民身份证 ；2：港澳居民来往内地通行证 ；3：台湾居民来往大陆通行证 ；4：中国公民护照（圆通、极兔支持 ） |
| send_id_card | 字符串|否|--| 寄件人证件号码 （圆通、极兔支持 ） |
| password_signing | 字符串|否|--| 是否口令签收，Y：需要 N: 不需要，默认值为N（德邦快递专属参数） |
| op | 字符串|否|--| 是否开启订阅功能 0：不开启(默认) 1：开启 说明开启订阅功能时：pollCallBackUrl必须填入 此功能只针对有快递单号的单 |
| return_type | 字符串|是|--| 面单返回类型，默认为空，不返回面单内容。10：设备打印，20：生成图片短链回调。 |
| siid | 字符串|是|--| 设备码，returnType为10时必填 |
| tempid | 字符串|是|--| 模板编码，模板id在[获取商家寄件快递公司]接口中查看 |

### 响应元素

| 名称 | 类型 |示例值| 描述|
|---|---|---|---| 
| data | 对象|--| 返回数据，详细查看data响应 |
| status | 数字|200| 请求状态；200=请求成功；400=请求失败 |
| msg | 字符串|success| 请求文字描述 |

### data响应

| 名称 | 类型 |示例值| 描述|
|---|---|---|---| 
| order_id | 字符串|--| 任务订单号（需要在系统回调中使用） |
| task_id | 字符串|--| 任务ID（需要在系统回调中使用） |
| kuaidinum | 字符串|--| 物流单号 |


### 注意事项

测试过程中需要把请求参数中的day_type传值为：1，并在测试结束后进入一号通后台进行取消寄件；或者通过接口发起取消；

### 订单状态问题

创建寄件订单后商城内的订单应该为备货中,发货状态应该再订单回调的取件状态下改为已发货;
